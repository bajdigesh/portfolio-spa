%flexibleContent {
  display: grid;
}

#case-study-content {
  container-type: inline-size;
}

.project {
  &-summary {
    h3 {
      margin-block-start: 2rem;
      font-size: clamp(1.25rem, 3vw, 2rem);

      & + p {
        font-size: 1.2rem;
        margin-block-start: 0.75rem;
        opacity: 0.8;
      }
    }
  }
  &-details {
    @extend %flexibleContent;
    align-items: center;
    gap: 2rem;
    grid-template-columns: 1.25fr 1fr;

    h1 {
      font-size: clamp(2rem, 4vw + 1rem, 4rem);
      font-weight: 900;
    }

    p {
      width: min(100%, 30ch);
      font-size: clamp(1.25rem, 3vw, 2rem);
      text-wrap: balance;
    }
  }

  &-study {
    margin-block-start: clamp(2rem, 4vw + 2rem, 5rem);
    @extend %flexibleContent;
    gap: 1.5rem;
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 30rem), 1fr));

    h3 {
      font-size: clamp(1.5rem, 4vw + 1rem, 2.25rem);

      & + p {
        font-size: 1.2rem;
        margin-block-start: 0.75rem;
        opacity: 0.8;
        text-wrap: balance;
      }
    }
  }
}

@container (width < 40rem) {
  .project {
    &-details {
      grid-template-columns: 1fr;

      figure {
        grid-row: 1;
      }
    }
  }
}
